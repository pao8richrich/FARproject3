(this["webpackJsonpstore-rico-paola"]=this["webpackJsonpstore-rico-paola"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/aerolab-logo.71af6f4b.svg"},23:function(e,t,a){e.exports=a.p+"static/media/product.fce73b39.svg"},24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),l=a.n(r),s=a(8),o=(a(29),a(3)),i=a(20),m=a.n(i),u=a(9),d=a.n(u),E=a(14),f=a.n(E),v=a(17),p=a(21),N="https://coding-challenge-api.aerolab.co",b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjM1NDJmYTc1MTI2YzAwNmQwOGJiMDYiLCJpYXQiOjE1OTczMjYwNzR9.31SDbCf2qkqMAB0ZENf7K8Z87jmNyK11_ODaHVYTl2c";function h(e){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(f.a.mark((function e(t){var a,n,c,r,l,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.endpoint,n=t.method,c=t.body,r={method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(b)}},"POST"===n&&(r=Object(v.a)(Object(v.a)({},r),{},{body:JSON.stringify(c)})),e.next=5,fetch(N+a,r);case 5:return l=e.sent,e.next=8,l.json();case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=c.a.createContext(),O={name:"",points:0};function C(e){var t=e.children,a=Object(n.useState)(O),r=Object(o.a)(a,2),l=r[0],s=r[1];return c.a.createElement(j.Provider,{value:{user:l,setUser:s}},t)}a(7);var y=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(1e3),s=Object(o.a)(l,2),i=(s[0],s[1],Object(n.useContext)(j)),u=i.user,E=u.name,f=u.points,v=i.setUser;return Object(n.useEffect)((function(){h({endpoint:"/user/me",method:"GET"}).then((function(e){return v(e)}))}),[v]),c.a.createElement(c.a.Fragment,null,c.a.createElement("header",{className:"App-header"},c.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"}),c.a.createElement("div",{className:"ItemsHeaderRight",onClick:function(){return r(!a)}},c.a.createElement("div",{className:"nameUser"},E," "),c.a.createElement("div",{className:"coinBg"},c.a.createElement("div",{className:"TextCoin"},f,"  "),c.a.createElement("img",{src:d.a,className:"",alt:"IconCoin"})))))};var k=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{className:"bgHeader"},c.a.createElement("div",{className:"imgBgHeader"},c.a.createElement("div",{className:"headertitle"},"  Electronics"),c.a.createElement(s.b,{className:"linkRouter",to:"/FARproject3"},"Home"),c.a.createElement(s.b,{className:"linkRouter",to:"/FARproject3/historial"},"History"),c.a.createElement(s.b,{className:"linkRouter",to:"/FARproject3/addpoints"},"Add points"))))};var w=function(e){var t=e.setFilter,a=e.setSort,n=e.sortby;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"infoSearch"},c.a.createElement("div",{className:"infoTitle"},"Sort by"),c.a.createElement("button",{className:"Lowest price"===n?"btn active":"btn",onClick:function(){return a("Lowest price")}},"Lowest Price"),c.a.createElement("button",{className:"Highest Price"===n?"btn active":"btn",onClick:function(){return a("Highest Price")}},"Highest Price"),c.a.createElement("div",{className:"infoTitle"},"Filter by"),c.a.createElement("div",{className:"select"},c.a.createElement("select",{onChange:function(e){return t(e.target.value)}},["Select all","Phones","Gamming","Laptops","Tablets & E-readers","Audio","Monitors & TV","Smart Home","Home Accessories","PC Accessories","Cameras","Drones"].map((function(e){return c.a.createElement("option",{key:e},e)}))),c.a.createElement("div",{className:"select__arrow"}))))},S=document.getElementById("modal"),x=function(e){var t=document.createElement("div");return Object(n.useEffect)((function(){return S.appendChild(t),function(){S.removeChild(t)}}),[t]),Object(r.createPortal)(c.a.createElement("div",{className:"modal-container"},c.a.createElement("div",{className:"my-modal"},e.children)),t)};var P=function(e,t){var a=Object(n.useState)(1),c=Object(o.a)(a,2),r=c[0],l=c[1],s=Math.ceil(e.length/t);return{next:function(){l((function(e){return Math.min(e+1,s)}))},prev:function(){l((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);l((function(e){return Math.min(t,s)}))},currentData:function(){var a=(r-1)*t,n=a+t;return e.slice(a,n)},currentPage:r,maxPage:s}},I=a(23),A=a.n(I),T=function(e){var t=e.id,a=e.filter,r=e.sortby,l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],m=s[1],u=Object(n.useState)([]),E=Object(o.a)(u,2),f=E[0],v=E[1],p=Object(n.useState)(""),N=Object(o.a)(p,2),b=N[0],g=N[1],O=Object(n.useContext)(j),C=O.user.points,y=O.setUser;Object(n.useEffect)((function(){h({endpoint:"Inicio"===t?"/products":"/user/history",method:"GET"}).then((function(e){return v(e)}))}),[t]);var k=f.filter((function(e){return"Select all"===a||e.category===a})).sort((function(e,t){return"Lowest price"===r?e.cost-t.cost:t.cost-e.cost})),w=P(k,16),S=w.next,I=w.prev,T=w.jump,F=w.currentData,R=w.currentPage;Object(n.useEffect)((function(){T(1)}),[a,r,f]);return"Inicio"===t?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"arrows"},c.a.createElement("div",{className:"arrowLeft",onClick:function(){return I()}}),c.a.createElement("div",{className:"arrowsText"},R),c.a.createElement("div",{className:"arrowRight",onClick:function(){return S()}})),i&&c.a.createElement(x,null,c.a.createElement("button",{className:"modal-close",onClick:function(){m(!1)}}," x "),c.a.createElement("div",{className:"textModal"},c.a.createElement("img",{src:A.a,className:"ProductModal",alt:"Product Modal"}),b)),c.a.createElement("div",{className:"cards"},c.a.createElement("div",{className:"box"},F().map((function(e,t){return c.a.createElement("div",{id:"card-container",key:t},c.a.createElement("div",{id:"card2",className:"card"},c.a.createElement("div",{className:"front face"},c.a.createElement("div",{className:"imgCard"},c.a.createElement("img",{src:e.img.url,className:"",alt:"Product"}),c.a.createElement("div",{className:"iconBuy"}),e.cost-C>0&&c.a.createElement("div",{className:"iconNeeded"},"You need  ",e.cost-C," ",c.a.createElement("img",{src:d.a,className:"IconCoin2",alt:"IconCoin"}),"  ")),c.a.createElement("div",{className:"infoCard"},c.a.createElement("div",{className:"lineCard"}),c.a.createElement("div",{className:"categoryCard"},e.category," "),c.a.createElement("div",{className:"nameCard"}," ",e.name),c.a.createElement("div",{className:"nameCard"},c.a.createElement("img",{src:d.a,className:"IconCoin2",alt:"IconCoin"})," ",e.cost))),c.a.createElement("div",{className:"back face "},c.a.createElement("h1",{className:"price"},"  ",e.cost," ",c.a.createElement("img",{src:d.a,className:"cardCoinBack",alt:"IconCoin"})),e.cost-C<0&&c.a.createElement("button",{className:"btn btnRedeem",onClick:function(){return h({endpoint:"/redeem",method:"POST",body:{productId:e._id}}).then((function(e){return g(e.message)})),m(!0),void h({endpoint:"/user/me",method:"GET"}).then((function(e){return y(e)}))}},"Redeem Now"))))}))))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"arrows"},c.a.createElement("div",{className:"arrowLeft",onClick:function(){return I()}}),R,c.a.createElement("div",{className:"arrowRight",onClick:function(){return S()}})),c.a.createElement("div",{className:"cards"},c.a.createElement("div",{className:"box2"},F().map((function(e,t){return c.a.createElement("div",{className:"blog-card",key:t},c.a.createElement("div",{className:"meta"},c.a.createElement("div",{className:"photo"},c.a.createElement("img",{src:e.img.url,className:"imgHistorial",alt:"Product"})),c.a.createElement("ul",{className:"details"},c.a.createElement("li",{className:"author"},"Historial"))),c.a.createElement("div",{className:"description"},c.a.createElement("h1",null,e.category),c.a.createElement("h2",null,e.name),c.a.createElement("p",null," ",c.a.createElement("img",{src:d.a,className:"cardCoinBack",alt:"IconCoin"})," ",e.cost)))})))))};var F=function(){var e=[1e3,5e3,7500],t=Object(n.useState)(e[0]),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),i=Object(o.a)(s,2),m=i[0],u=i[1],d=Object(n.useContext)(j),E=d.user.name,f=d.setUser;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"CardPoints"},c.a.createElement("div",{className:"CardTittle"},"Add Points "),e.map((function(e){return c.a.createElement("button",{className:"btnPoints",onClick:function(){return l(e)}},e)})),c.a.createElement("div",{className:"selectPoint"},"   ",r," "),c.a.createElement("button",{className:"btnAdd",onClick:function(){h({endpoint:"/user/points",method:"POST",body:{amount:r}}).then((function(e){f({name:E,points:e["New Points"]}),u(e.message)}))}},"Add"),c.a.createElement("div",{className:"messagepoints"}," ",m," ")))},R=a(1);var M=function(){var e=Object(n.useState)("Select all"),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),s=Object(o.a)(l,2),i=s[0],m=s[1],u=!Object(R.f)().pathname.includes("addpoints");return c.a.createElement(c.a.Fragment,null,c.a.createElement("main",null,u&&c.a.createElement(w,{setFilter:r,setSort:m,sortby:i}),c.a.createElement(R.c,null,c.a.createElement(R.a,{path:"/FARproject3",exact:!0,render:function(){return c.a.createElement(T,{id:"Inicio",filter:a,sortby:i})}}),c.a.createElement(R.a,{path:"/FARproject3/historial",render:function(){return c.a.createElement(T,{id:"History",filter:a,sortby:i})}}),c.a.createElement(R.a,{path:"/FARproject3/addpoints",render:function(){return c.a.createElement(F,null)}}))))};var H=function(){return c.a.createElement(C,null,c.a.createElement("div",{className:"App"},c.a.createElement(y,null),c.a.createElement(k,null),c.a.createElement(M,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,null,c.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){},9:function(e,t,a){e.exports=a.p+"static/media/coin.4669120c.svg"}},[[24,1,2]]]);
//# sourceMappingURL=main.6013307f.chunk.js.map