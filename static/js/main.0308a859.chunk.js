(this["webpackJsonpstore-rico-paola"]=this["webpackJsonpstore-rico-paola"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/aerolab-logo.71af6f4b.svg"},23:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),s=a(8),o=(a(28),a(3)),i=a(20),m=a.n(i),u=a(9),d=a.n(u),E=a(14),f=a.n(E),v=a(17),p=a(21),b="https://coding-challenge-api.aerolab.co",N="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjM1NDJmYTc1MTI2YzAwNmQwOGJiMDYiLCJpYXQiOjE1OTczMjYwNzR9.31SDbCf2qkqMAB0ZENf7K8Z87jmNyK11_ODaHVYTl2c";function h(e){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(f.a.mark((function e(t){var a,n,r,c,l,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.endpoint,n=t.method,r=t.body,c={method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N)}},"POST"===n&&(c=Object(v.a)(Object(v.a)({},c),{},{body:JSON.stringify(r)})),e.next=5,fetch(b+a,c);case 5:return l=e.sent,e.next=8,l.json();case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=r.a.createContext(),O={name:"",points:0};function C(e){var t=e.children,a=Object(n.useState)(O),c=Object(o.a)(a,2),l=c[0],s=c[1];return r.a.createElement(j.Provider,{value:{user:l,setUser:s}},t)}a(7);var y=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(1e3),s=Object(o.a)(l,2),i=(s[0],s[1],Object(n.useContext)(j)),u=i.user,E=u.name,f=u.points,v=i.setUser;return Object(n.useEffect)((function(){h({endpoint:"/user/me",method:"GET"}).then((function(e){return v(e)}))}),[v]),r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"}),r.a.createElement("div",{className:"ItemsHeaderRight",onClick:function(){return c(!a)}},r.a.createElement("div",{className:"nameUser"},E," "),r.a.createElement("div",{className:"coinBg"},r.a.createElement("div",{className:"TextCoin"},f,"  "),r.a.createElement("img",{src:d.a,className:"",alt:"IconCoin"})))))};var w=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"bgHeader"},r.a.createElement("div",{className:"imgBgHeader"},r.a.createElement("div",{className:"headertitle"},"  Electronics"),r.a.createElement(s.b,{className:"linkRouter",to:"/FARproject3"},"Home"),r.a.createElement(s.b,{className:"linkRouter",to:"/FARproject3/historial"},"History"),r.a.createElement(s.b,{className:"linkRouter",to:"/FARproject3/addpoints"},"Add points"))))};var k=function(e){var t=e.setFilter,a=e.setSort,n=e.sortby;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"infoSearch"},r.a.createElement("div",{className:"infoTitle"},"Sort by"),r.a.createElement("button",{className:"Lowest price"===n?"btn active":"btn",onClick:function(){return a("Lowest price")}},"Lowest Price"),r.a.createElement("button",{className:"Highest Price"===n?"btn active":"btn",onClick:function(){return a("Highest Price")}},"Highest Price"),r.a.createElement("div",{className:"infoTitle"},"Filter by"),r.a.createElement("div",{className:"select"},r.a.createElement("select",{onChange:function(e){return t(e.target.value)}},["Select all","Phones","Gamming","Laptops","Tablets & E-readers","Audio","Monitors & TV","Smart Home","Home Accessories","PC Accessories","Cameras","Drones"].map((function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{className:"select__arrow"}))))},S=document.getElementById("modal"),I=function(e){var t=document.createElement("div");return Object(n.useEffect)((function(){return S.appendChild(t),function(){S.removeChild(t)}}),[t]),Object(c.createPortal)(r.a.createElement("div",null,e.children),t)};var P=function(e,t){var a=Object(n.useState)(1),r=Object(o.a)(a,2),c=r[0],l=r[1],s=Math.ceil(e.length/t);return{next:function(){l((function(e){return Math.min(e+1,s)}))},prev:function(){l((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);l((function(e){return Math.min(t,s)}))},currentData:function(){var a=(c-1)*t,n=a+t;return e.slice(a,n)},currentPage:c,maxPage:s}},x=function(e){var t=e.id,a=e.filter,c=e.sortby,l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],m=s[1],u=Object(n.useState)([]),E=Object(o.a)(u,2),f=E[0],v=E[1],p=Object(n.useState)(""),b=Object(o.a)(p,2),N=b[0],g=b[1],O=Object(n.useContext)(j),C=O.user.points,y=O.setUser;Object(n.useEffect)((function(){h({endpoint:"Inicio"===t?"/products":"/user/history",method:"GET"}).then((function(e){return v(e)}))}),[t]);var w=f.filter((function(e){return"Select all"===a||e.category===a})).sort((function(e,t){return"Lowest price"===c?e.cost-t.cost:t.cost-e.cost})),k=P(w,16),S=k.next,x=k.prev,A=k.jump,T=k.currentData,F=k.currentPage;return Object(n.useEffect)((function(){A(1)}),[a,c,f]),"Inicio"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"arrows"},r.a.createElement("div",{className:"arrowLeft",onClick:function(){return x()}}),r.a.createElement("div",{className:"arrowsText"},F),r.a.createElement("div",{className:"arrowRight",onClick:function(){return S()}})),i&&r.a.createElement(I,null," ",N),r.a.createElement("div",{className:"cards"},r.a.createElement("div",{className:"box"},T().map((function(e,t){return r.a.createElement("div",{id:"card-container",key:t},r.a.createElement("div",{id:"card2",className:"card"},r.a.createElement("div",{className:"front face"},r.a.createElement("div",{className:"imgCard"},r.a.createElement("img",{src:e.img.url,className:"",alt:"Product"}),r.a.createElement("div",{className:"iconBuy"}),e.cost-C>0&&r.a.createElement("div",{className:"iconNeeded"},"You need  ",e.cost-C," ",r.a.createElement("img",{src:d.a,className:"IconCoin2",alt:"IconCoin"}),"  ")),r.a.createElement("div",{className:"infoCard"},r.a.createElement("div",{className:"lineCard"}),r.a.createElement("div",{className:"categoryCard"},e.category," "),r.a.createElement("div",{className:"nameCard"}," ",e.name),r.a.createElement("div",{className:"nameCard"},r.a.createElement("img",{src:d.a,className:"IconCoin2",alt:"IconCoin"})," ",e.cost))),r.a.createElement("div",{className:"back face "},r.a.createElement("h1",{className:"price"},"  ",e.cost," ",r.a.createElement("img",{src:d.a,className:"cardCoinBack",alt:"IconCoin"})),e.cost-C<0&&r.a.createElement("button",{className:"btn btnRedeem",onClick:function(){return h({endpoint:"/redeem",method:"POST",body:{productId:e._id}}).then((function(e){return g(e.message)})).catch(g("Error ayuda!")),m(!0),void h({endpoint:"/user/me",method:"GET"}).then((function(e){return y(e)}))}},"Redeem Now"))))}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"arrows"},r.a.createElement("div",{className:"arrowLeft",onClick:function(){return x()}}),F,r.a.createElement("div",{className:"arrowRight",onClick:function(){return S()}})),r.a.createElement("div",{className:"cards"},r.a.createElement("div",{className:"box2"},T().map((function(e,t){return r.a.createElement("div",{className:"blog-card",key:t},r.a.createElement("div",{className:"meta"},r.a.createElement("div",{className:"photo"},r.a.createElement("img",{src:e.img.url,className:"imgHistorial",alt:"Product"})),r.a.createElement("ul",{className:"details"},r.a.createElement("li",{className:"author"},"Historial"))),r.a.createElement("div",{className:"description"},r.a.createElement("h1",null,e.category),r.a.createElement("h2",null,e.name),r.a.createElement("p",null," ",r.a.createElement("img",{src:d.a,className:"cardCoinBack",alt:"IconCoin"})," ",e.cost)))})))))};var A=function(){var e=[1e3,5e3,7500],t=Object(n.useState)(e[0]),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),i=Object(o.a)(s,2),m=i[0],u=i[1],d=Object(n.useContext)(j),E=d.user.name,f=d.setUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"CardPoints"},r.a.createElement("div",{className:"CardTittle"},"Add Points "),e.map((function(e){return r.a.createElement("button",{className:"btnPoints",onClick:function(){return l(e)}},e)})),r.a.createElement("div",{className:"selectPoint"},"   ",c," "),r.a.createElement("button",{className:"btnAdd",onClick:function(){h({endpoint:"/user/points",method:"POST",body:{amount:c}}).then((function(e){f({name:E,points:e["New Points"]}),u(e.message)}))}},"Add"),r.a.createElement("div",{className:"messagepoints"}," ",m," ")))},T=a(1);var F=function(){var e=Object(n.useState)("Select all"),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(o.a)(l,2),i=s[0],m=s[1],u=!Object(T.f)().pathname.includes("addpoints");return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,u&&r.a.createElement(k,{setFilter:c,setSort:m,sortby:i}),r.a.createElement(T.c,null,r.a.createElement(T.a,{path:"/FARproject3",exact:!0,render:function(){return r.a.createElement(x,{id:"Inicio",filter:a,sortby:i})}}),r.a.createElement(T.a,{path:"/FARproject3/historial",render:function(){return r.a.createElement(x,{id:"History",filter:a,sortby:i})}}),r.a.createElement(T.a,{path:"/FARproject3/addpoints",render:function(){return r.a.createElement(A,null)}}))))};var R=function(){return r.a.createElement(C,null,r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(w,null),r.a.createElement(F,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,null,r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){},9:function(e,t,a){e.exports=a.p+"static/media/coin.4669120c.svg"}},[[23,1,2]]]);
//# sourceMappingURL=main.0308a859.chunk.js.map